I"Üb<h2 id="åº">åº</h2>
<p>ä¸€ç»´åŠ¨æ€è§„åˆ’è¿™é‡Œæœ‰ä¸€äº›æ¯”è¾ƒå…¸å‹çš„é¢˜ç›®, æ¯”å¦‚LIS(æœ€é•¿ä¸ä¸‹é™å­åºåˆ—, æœ€é•¿ä¸Šå‡å­åºåˆ—), å›æ–‡ä¸²æœç´¢, ä»¥åŠç­‰ä¸‹è¦æåˆ°çš„é‚£é“æ­ç”µé¢˜.</p>

<p>é€‰æ‹©åŠ¨æ€è§„åˆ’(Dynamic Programming, ä¸‹ç®€ç§°dp)çš„åœºåˆ, é€šå¸¸æ˜¯é¢˜é¢ä¸­å‡ºç°â€æœ€å¤§â€,â€æœ€å°â€,â€æœ€é•¿â€ä¹‹ç±»çš„æ—¶å€™. æˆ‘ä»¬å°†åœ¨ä¹‹åçš„ä¾‹å­ä¸­éªŒè¯è¿™ä¸€ç‚¹.</p>

<h2 id="å’Œæœ€å¤§å­åºåˆ—">å’Œæœ€å¤§å­åºåˆ—</h2>
<p>è¿™ä¸ªé—®é¢˜å…¶å®å¹¶ä¸éœ€è¦ç”¨dpæ¥åš, å› ä¸ºå¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°å…¶å®åªéœ€è¦æŠŠåºåˆ—ä¸­æ‰€æœ‰çš„æ­£æ•°å’Œ0åŠ èµ·æ¥å°±è¡Œäº†; å¦‚æœåºåˆ—ä¸­å…¨ä¸ºè´Ÿæ•°, é‚£å°±æ‰¾åˆ°é‚£ä¸ªæœ€å¤§çš„è´Ÿæ•°. è¿™é‡Œ, æˆ‘ä»¬å°†é€šè¿‡dpæ¥éªŒè¯è¿™ä¸€ç‚¹.</p>

<p>åŠ¨æ€è§„åˆ’çš„æ€æƒ³æ˜¯<strong>è¿­ä»£</strong>, <strong>åœ¨å®Œæˆç¬¬n-1æ­¥çš„åŸºç¡€ä¸Šåº”è¯¥å¦‚ä½•å®Œæˆç¬¬næ­¥</strong>. è¿™ç§çœ‹èµ·æ¥æœ‰ç‚¹åƒé€’å½’, å…¶å®è¿­ä»£ä¸ä¹Ÿå°±æ˜¯å°¾é€’å½’å˜›.</p>

<p>åœ¨è¿™ä¸ªé—®é¢˜ä¸­, æˆ‘ä»¬å¼€ä¸¤ä¸ªæ•°ç»„, ä¸€ä¸ªç”¨æ¥å­˜åŸå§‹æ•°æ®, ä¸€ä¸ªç”¨æ¥å­˜åˆ†æ®µå’Œ.</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">sums</span><span class="p">;</span>
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">sums[i]</code>ç”¨æ¥è¡¨ç¤º<code class="language-plaintext highlighter-rouge">arr[0...i]</code>è¿™æ®µå¯¹äºé¢˜é¢é—®é¢˜çš„è§£. ç±»ä¼¼äºæ•°å­¦å½’çº³æ³•, æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°åˆå§‹æƒ…å†µ, å¹¶é€šè¿‡<code class="language-plaintext highlighter-rouge">sums[i]</code>æ¥æ¨å‡º<code class="language-plaintext highlighter-rouge">sums[i + 1]</code>ç­‰äºå¤šå°‘, æ•´ä¸ªé—®é¢˜ä¹Ÿå°±èƒ½è½»æ¾è§£å†³äº†.</p>

<p>ä¸‹é¢ç›´æ¥ç»“åˆä»£ç æ¥è¯´æ˜æ•´ä¸ªæ€è·¯:<br />
è¿™é‡Œæ¨¡æ‹Ÿçš„æƒ…å½¢æ˜¯ACMæ¨¡å¼çš„è¾“å…¥è¾“å‡º: è¾“å…¥ä¸€ä¸ªn, åé¢è·Ÿç€nä¸ªæ ‘, å­˜å…¥æ•°æ®æ•°ç»„.</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;limits&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">sums</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>  <span class="c1">// sums[i] = sum of arr[0...i - 1]</span>
        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">min</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">m</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">sums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// The initial condition</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">sums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">sums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>  <span class="c1">// HERE</span>
        <span class="p">}</span>

        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sums</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>   <span class="c1">// output sums[n - 1]: sum of arr[0..n]</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å…¶ä»–çš„éƒ¨åˆ†åˆšæ‰éƒ½å·²ç»è§£é‡Šæ¸…æ¥šäº†, å”¯ä¸€ä¸€ä¸ªå«ç³Šä¸æ¸…çš„åœ°æ–¹, å³é€šè¿‡<code class="language-plaintext highlighter-rouge">sums[i]</code>æ¥æ¨å‡º<code class="language-plaintext highlighter-rouge">sums[i + 1]</code>ç­‰äºå¤šå°‘, è¿™é‡Œé€šè¿‡ä»£ç æ¥è¯´æ˜. <br />
åœ¨æ ‡æœ‰<em>HERE</em>æ³¨é‡Šçš„é‚£ä¸€è¡Œä»£ç <code class="language-plaintext highlighter-rouge">sums[i] = max(sums[i - 1], sums[i - 1] + arr[i - 1]);</code>, è¿™ä¸ªè¢«å«åš<strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong>, ä¸ºä»€ä¹ˆè¦å«æ–¹ç¨‹ä¸æ˜¯å¾ˆæ¸…æ¥š, ä½†æ˜¯ä¸ºä»€ä¹ˆæ˜¯çŠ¶æ€è½¬ç§», æ˜¯éå¸¸å®¹æ˜“ç†è§£çš„.</p>

<p><a href="https://baike.baidu.com/item/çŠ¶æ€è½¬ç§»æ–¹ç¨‹">ç™¾åº¦ç™¾ç§‘</a>ç»™å‡ºäº†æ¯”è¾ƒè¯¦ç»†çš„å®šä¹‰å’Œè¯´æ˜, è¿™é‡Œæˆªå–äº†ä¸€å°æ®µ:</p>
<blockquote>
  <p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œæ˜¯åŠ¨æ€è§„åˆ’ä¸­æœ¬é˜¶æ®µçš„çŠ¶æ€å¾€å¾€æ˜¯ä¸Šä¸€é˜¶æ®µçŠ¶æ€å’Œä¸Šä¸€é˜¶æ®µå†³ç­–çš„ç»“æœã€‚å¦‚æœç»™å®šäº†ç¬¬Ké˜¶æ®µçš„çŠ¶æ€$S_k$ä»¥åŠå†³ç­–$u_k(S_k)$ï¼Œåˆ™ç¬¬$K+1$é˜¶æ®µçš„çŠ¶æ€$S_{k+1}$ä¹Ÿå°±å®Œå…¨ç¡®å®šã€‚</p>
</blockquote>

<p>æˆ‘çœ‹è¿™ç©æ„å„¿åæ­£è¶Šçœ‹è¶Šåƒæ•°å­¦å½’çº³æ³•. åŒæ ·, è¿™é‡Œåœ¨æˆ‘çš„åšå®¢é‡Œæˆªå–äº†ä¸€æ®µå®åˆ†æä¹ é¢˜è¯æ˜:</p>
<blockquote>
  <p><strong>P21 - è¯æ˜ä¸¤ä¸ªè‡ªç„¶æ•°çš„å’Œä»æ—§æ˜¯è‡ªç„¶æ•°.</strong><br />
<strong>é¢˜è®¾:</strong> ä¸¤ä¸ªè‡ªç„¶æ•°$n,m$.<br />
<strong>æ±‚è¯:</strong> $n+m$ä»ä¸ºè‡ªç„¶æ•°.<br />
<strong>è¯æ˜:</strong> <br />
å›ºå®š$m$.<br />
<strong>1) å½“$n=0$æ—¶</strong><br />
ç”±å…¬ç†$2.1$å¯çŸ¥, $0$æ˜¯è‡ªç„¶æ•°<br />
$n+m=0+m=m$ä¸ºè‡ªç„¶æ•°    (åŠ æ³•å®šä¹‰)<br />
<strong>2) å‡è®¾$n+m$æ˜¯è‡ªç„¶æ•°</strong><br />
ä¸‹è¯$(n++)+m$æ˜¯è‡ªç„¶æ•°<br />
$(n++)+m=(n+m)++$    (åŠ æ³•å®šä¹‰)<br />
$\because n+m$ä¸ºè‡ªç„¶æ•°    (å‡è®¾)<br />
$\therefore (n+m)++ä¹Ÿä¸ºè‡ªç„¶æ•°$    (å…¬ç†$2.2$)<br />
ç»¼ä¸Šå½’çº³é€’å½’, åŸé¢˜å¾—è¯.Â Â $\square$</p>
</blockquote>

<p>(å®Œ  å…¨  ä¸€  è‡´)<br />
ç±»æ¯”æ•°å­¦å½’çº³æ³•è¯æ˜, åˆšæ‰å¤§ä»£ç ä¸­æ³¨é‡Š<em>The initial condition</em>çš„éƒ¨åˆ†å¯¹åº”æ•°å­¦å½’çº³æ³•ä¸­çš„<em>1)æƒ…å½¢</em>, ä¹‹åå¾ªç¯é‡Œçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯¹åº”çš„æ˜¯æ•°å­¦å½’çº³æ³•ä¸­<em>2)æƒ…å½¢</em>.</p>

<h2 id="lis-longest-increasing-subsequence-æœ€é•¿ä¸Šå‡å­åºåˆ—æˆ–æœ€é•¿ä¸ä¸‹é™å­åºåˆ—">LIS, Longest Increasing Subsequence, æœ€é•¿ä¸Šå‡å­åºåˆ—(æˆ–æœ€é•¿ä¸ä¸‹é™å­åºåˆ—)</h2>
<p>ä¸‹é¢ä¸¾çš„ä¾‹å­ä¸æ˜¯LIS, ä½†æ˜¯æ˜¯å·®ä¸å¤šçš„ä¸œè¥¿, äºæ˜¯å°±å‡è£…å®ƒæ˜¯LISäº†.<br />
è¿™éƒ¨åˆ†æè¿‡æ¥çš„é¢˜ç›®æ˜¯æ­ç”µä¸Šä¸€é“æ¨¡æ¿é¢˜. <br />
<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1003">link here</a><br />
<strong>Problem Description</strong><br />
Given a sequence <code class="language-plaintext highlighter-rouge">a[1]</code>, <code class="language-plaintext highlighter-rouge">a[2]</code>, <code class="language-plaintext highlighter-rouge">a[3]</code> â€¦ <code class="language-plaintext highlighter-rouge">a[n]</code>, your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 + (-1) + 5 + 4 = 14.</p>

<p><strong>Input</strong><br />
The first line of the input contains an integer <code class="language-plaintext highlighter-rouge">T</code> (1&lt;=<code class="language-plaintext highlighter-rouge">T</code>&lt;=20) which means the number of test cases. Then <code class="language-plaintext highlighter-rouge">T</code> lines follow, each line starts with a number <code class="language-plaintext highlighter-rouge">N</code> (1&lt;=<code class="language-plaintext highlighter-rouge">N</code>&lt;=100000), then <code class="language-plaintext highlighter-rouge">N</code> integers followed(all the integers are between -1000 and 1000).</p>

<p><strong>Output</strong><br />
For each test case, you should output two lines. The first line is â€œCase #:â€, # means the number of the test case. The second line contains three integers, the Max Sum in the sequence, the start position of the sub-sequence, the end position of the sub-sequence. If there are more than one result, output the first one. Output a blank line between two cases.</p>

<p><strong>Sample Input</strong></p>
<blockquote>
  <p>2  <br />
5 6 -1 5 4 -7 <br />
7 0 6 -1 1 -6 7 -5</p>
</blockquote>

<p><strong>Sample Output</strong></p>
<blockquote>
  <p>Case 1:<br />
14 1 4</p>

  <p>Case 2:<br />
7 1 6</p>
</blockquote>

<p>ä¸å¤šè¯´äº†, ç›´æ¥ä¸Šä»£ç :</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;limits&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">t</span><span class="p">){</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="n">t</span><span class="p">;</span> <span class="o">++</span><span class="n">z</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">z</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
            <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">lst</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">min</span><span class="p">());</span>
            
            <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">rf</span><span class="o">:</span> <span class="n">lst</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">rf</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kt">int</span> <span class="n">lo</span><span class="p">,</span> <span class="n">st</span><span class="p">,</span> <span class="n">ed</span><span class="p">,</span> <span class="n">sum</span><span class="p">;</span>
            <span class="n">lo</span> <span class="o">=</span> <span class="n">st</span> <span class="o">=</span> <span class="n">ed</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">sum</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
                    <span class="n">st</span> <span class="o">=</span> <span class="n">lo</span><span class="p">;</span>
                    <span class="n">ed</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                    <span class="n">lo</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Case "</span> <span class="o">&lt;&lt;</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="s">":</span><span class="se">\n</span><span class="s">"</span>
                 <span class="o">&lt;&lt;</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span> <span class="o">&lt;&lt;</span> <span class="n">st</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span> <span class="o">&lt;&lt;</span> <span class="n">ed</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>å…¶å®æˆ‘è¿™é‡Œå†™çš„ä»£ç å·²ç»ä¸æ˜¯å¾ˆåƒdpäº†, å¹¶ä¸”å…¶å®è¿™ä¸€é¢˜éƒ½ä¸ç”¨å­˜å‚¨è¾“å…¥çš„æ•°ç»„.</p>

<p>ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä»£ç , çœ‹ä¸€ä¸‹dpæ•°ç»„é‡Œå­˜äº†ä»€ä¹ˆ.</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;limits&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">t</span><span class="p">){</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="n">t</span><span class="p">;</span> <span class="o">++</span><span class="n">z</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
            <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">lst</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">min</span><span class="p">());</span>
            
            <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">rf</span><span class="o">:</span> <span class="n">lst</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">rf</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">sum</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            
            <span class="n">copy</span><span class="p">(</span><span class="n">dp</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">dp</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">ostream_iterator</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span> <span class="s">", "</span><span class="p">));</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Input:
Same as sample.<br />
Output:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-2147483648, 6, 6, 10, 14, 14, 
-2147483648, 0, 6, 6, 6, 6, 7, 7,
</code></pre></div></div>
<p>æ•´ä¸ªdpåºåˆ—å‘ˆä¸Šå‡è¶‹åŠ¿, è¿™ä¹Ÿæ˜¯å¿…ç„¶çš„, å› ä¸ºè¶Šå¾€åæ‰ä¼šå‡ºç°æ¯”ä¹‹å‰æ›´å¤§çš„.</p>

<h2 id="hduoj-1024-max-sum-plus-plus">HDUOJ 1024. Max Sum Plus Plus</h2>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1024">link here</a></p>

<p><strong>Problem Description</strong><br />
Now I think you have got an AC in Ignatius.Lâ€™s â€œMax Sumâ€ problem. To be a brave ACMer, we always challenge ourselves to more difficult problems. Now you are faced with a more difficult problem.</p>

<p>Given a consecutive number sequence $S_1, S_2, S_3, S_4 â€¦ S_x, â€¦ S_n (1 \le x \le n \le 1,000,000, -32768 \le S_x \le 32767)$. We define a function $sum(i, j) = S_i + â€¦ + S_j (1 \le i \le j \le n)$.</p>

<p>Now given an integer $m (m &gt; 0)$, your task is to find $m$ pairs of $i$ and $j$ which make $sum(i_1, j_1) + sum(i_2, j_2) + sum(i_3, j_3) + â€¦ + sum(i_m, j_m)$ maximal ($i_x \le i_y \le j_x$ or $i_x \le j_y \le j_x$ is not allowed).</p>

<p>But I'm lazy, I donâ€™t want to write a special-judge module, so you donâ€™t have to output $m$ pairs of $i$ and $j$, just output the maximal summation of $sum(i_x, j_x)(1 \le x \le m)$ instead. ^_^</p>

<p><strong>Input</strong><br />
Each test case will begin with two integers m and n, followed by n integers $S_1$, $S_2$, $S_3 \cdots S_n$.
Process to the end of file.</p>

<p><strong>Output</strong><br />
Output the maximal summation described above in one line.</p>

<p><strong>Sample Input</strong></p>
<blockquote>
  <p>1 3 1 2 3<br />
2 6 -1 4 -2 3 -2 3</p>
</blockquote>

<p><strong>Sample Output</strong></p>
<blockquote>
  <p>6<br />
8</p>
  <blockquote>
    <p>Hint<br />
Huge input, scanf and dynamic programming is recommended.</p>
  </blockquote>
</blockquote>
:ET